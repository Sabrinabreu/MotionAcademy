<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="./img/logo.png" type="image/x-icon">
    <link href="css/pop_up.css" rel="stylesheet"/>
    <link href="css/style.css" rel="stylesheet"/>
    <title>Pop Up</title>
</head>
<body>

    <main>
        <div class="popUpCards">
            <div class="imageSection">
                <img src="" id="imagem-produto" class="mainImage">
                <div class="thumbnails" id="thumbnails"></div>
            </div>
    
            <div class="textPop">
                <h1 id="nome-produto">Produto</h1>
                <p id="descricao-produto">Descrição do produto</p>
            </div>
        </div>
    </main>

    <script>
        function getParametros(info) {
            const urlParametros = new URLSearchParams(window.location.search);
            return urlParametros.get(info);
        }
    
        document.getElementById("nome-produto").textContent = getParametros("nomeProd");
        document.getElementById("descricao-produto").textContent = getParametros("descricaoProd");
    
        // Imagens separadas por vírgula
        const imagens = getParametros("imagemProd").split(',');
        let indice = 0;
        const imgElement = document.getElementById("imagem-produto");
        const thumbsContainer = document.getElementById("thumbnails");
        imgElement.src = imagens[indice];
    
        // Criar miniaturas
        imagens.forEach((img, i) => {
            const thumb = document.createElement("img");
            thumb.src = img;
            thumb.classList.add("thumb");
            if(i === 0) thumb.classList.add("activeThumb");
            thumb.onclick = () => {
                imgElement.src = img;
                document.querySelectorAll(".thumb").forEach(t => t.classList.remove("activeThumb"));
                thumb.classList.add("activeThumb");
            };
            thumbsContainer.appendChild(thumb);
        });
    </script>
    
</body>
</html>